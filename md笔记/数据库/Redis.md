# Redis

## 1、NoSQL

(Not Only SQL)

- 泛指非关系型数据库
- 这些类型的数据存储不需要固定的模式，无需多余的操作就可以横向扩展

**优点**：

- 易扩展
- 大数据量高性能
- 多样灵活的数据模型

**3V和3高：**

- 大数据时代的3V:
  - 海量Volume
  - 多样Variety
  - 实时Velocity
- 互联网需求的三高：
  - 高并发
  - 高可扩
  - 高性能

**常见Nosql数据库**

- Redis
- memcache
- HBase
- MongoDB

![image-20200625102100073](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200625102100073.png)

## 2、Redis概述

**概念**：Redis(REmote Dictionary Server)是用C语言开发的一个开源的高性能键值对（key-value)数据库。

**特征**：

1. 数据间没有必然的关联关系
2. 内部采用单线程机制进行工作
3. 高性能
4. 多数据类型支持
   - 字符串类型
   - 列表类型
   - 有序集合类型
   - 散列类型（哈希）
   - 集合类型
5. 持久化支持。可以进行数据灾难恢复 

**应用：**

- 为热点数据加速查询（主要场景），如热点商品、热点新闻、热点资讯、推广类等高访问量信息等
- 任务队列，如秒杀、抢购、购票队列等
- 即时信息查询，如各位排行榜、各类网站访问统计、公交到站信息、在线人数信息（聊天记录、网站）、设备信号等
- 时效性信息控制，如验证码控制、投票控制等
- 分布式数据共享，如分布式集群架构中的session分离
- 消息队列
- 分布式锁

## 3、基本操作

**信息添加**

- 功能：设置key、value数据

- 命令

  ```
  set key value
  ```

**信息查询**

- 功能：根据key查询对应的value,如果不存在，返回空（nill）

- 命令

  ```
  get key
  ```

**清除屏幕信息**

- 命令

  ```
  clear
  ```

**帮助**

- 功能：获取命令帮助

- 命令

  ```
  help 命令名
  help @组名（或者help+空格+tab+tab...)
  ```

退出

- 命令

  ```
  quit 
  exit
  <esc>
  ```

## 4、数据类型

- string
- hash
- list 
- set
- sorted_set

### 4.1 string

**redis数据存储类型**

- redis自身是一个map，其中所有的数据都是采用key:value的形式存储
- 数据类型指的是存储的数据的类型，也就是value部分的类型，key部分永远都是字符串。

**string 类型**

- 存储的数据：单个数据，最简单的数据存储类型，也是最常用的数据存储类型
- 存储数据的格式：一个存储空间保存一个数据
- 存储内容：通常使用字符串，如果字符串以整数的形式展示，可以作为数字操作使用（本质还是字符串）

**基本操作**

- 添加、修改数据

  ```
  set key value
  ```

- 获取数据

  ```
  get key
  ```

- 删除数据

  ```
  del key
  ```

- 添加/修改多个数据

  ```
  mset key1 value1 key2 value2 ...
  ```

- 获取多个数据

  ```
  mget key1 key2 ...
  ```

- 获取数据字符个数（字符串长度）

  ```
  strlen key
  ```

- 追加信息到原始信息后部（如果原信息存在就追加，否则新建）

  ```
  append key value
  ```

  